{"description": "## Internal exception message exposure for login action\n\n### Impact\nException messages from internal exceptions (like database exception) are wrapped by `\\Symfony\\Component\\Security\\Core\\Exception\\AuthenticationServiceException` and propagated through the system to UI. Therefore, some internal system information may leak and be visible to the customer. \n\nA validation message with the exception details will be presented to the user when one will try to log into the shop. \n\n### Patches\n_Has the problem been patched? What versions should users upgrade to?_\n\n### Workarounds\nThe `src/Sylius/Bundle/UiBundle/Resources/views/Security/_login.html.twig` file should be overridden and lines https://github.com/Sylius/Sylius/blob/1.4/src/Sylius/Bundle/UiBundle/Resources/views/Security/_login.html.twig#L13-L17 should be replaced with\n```twig\n        {% if last_error %}\n            <div class=\"ui left aligned basic segment\">\n                {{ messages.error(last_error.messageKey) }}\n            </div>\n        {% endif %}\n``` \n\nThe `messageKey` field should be used instead of the `message`.", "methods": ["Exposes internal exception messages to the user.", "Leaks internal system information to the customer.", "Presents validation messages with exception details to the user.", "Allows internal system information to be visible to the user."]}